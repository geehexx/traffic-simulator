---
globs: "**/*"
description: Common commit issues and troubleshooting patterns
---

# Commit Troubleshooting Patterns

## Pre-commit Hook Failures
- **Pattern**: Always run pre-commit hooks before committing
- **Key**: Use `uv run pre-commit run --all-files` to catch issues early
- **Reference**: [Commit Troubleshooting Guide](mdc:docs/COMMIT_TROUBLESHOOTING.md#pre-commit-hook-failures)

## Type Checking Conflicts
- **Pattern**: Use specific error codes in type ignore comments
- **Key**: `# type: ignore[no-any-return]` instead of `# type: ignore`
- **Reference**: [Commit Troubleshooting Guide](mdc:docs/COMMIT_TROUBLESHOOTING.md#type-checking-conflicts)

## Executable Script Issues
- **Pattern**: Make scripts with shebangs executable
- **Key**: Use `chmod +x` or `git add --chmod=+x` for script files
- **Reference**: [Commit Troubleshooting Guide](mdc:docs/COMMIT_TROUBLESHOOTING.md#executable-script-issues)

## Unused Variable Warnings
- **Pattern**: Remove unused variables or mark them explicitly
- **Key**: Use `_ = variable` or `parser.parse_args()` without assignment
- **Reference**: [Commit Troubleshooting Guide](mdc:docs/COMMIT_TROUBLESHOOTING.md#unused-variable-warnings)

## Import Resolution Issues
- **Pattern**: Handle optional dependencies with try/except
- **Key**: Use `# type: ignore[import-not-found]` for optional imports
- **Reference**: [Commit Troubleshooting Guide](mdc:docs/COMMIT_TROUBLESHOOTING.md#import-resolution-issues)

## Emergency Bypass
- **Pattern**: Use `--no-verify` only as last resort
- **Key**: Follow up with proper fix and quality checks
- **Reference**: [Commit Troubleshooting Guide](mdc:docs/COMMIT_TROUBLESHOOTING.md#emergency-bypass)

## Quality Gates Integration
- **Pattern**: Run quality gates before committing
- **Key**: Use `uv run python scripts/quality_gates.py` for comprehensive checks
- **Reference**: [Quality Gates Guide](mdc:docs/QUALITY_GATES_GUIDE.md#running-quality-gates)

## Common Error Patterns
- **F841**: Unused variable - remove or mark as unused
- **E501**: Line too long - break into multiple lines
- **W293**: Trailing whitespace - remove whitespace
- **F401**: Unused import - remove unused imports
- **E402**: Import not at top - move imports to top
- **Reference**: [Commit Troubleshooting Guide](mdc:docs/COMMIT_TROUBLESHOOTING.md#common-error-patterns)
